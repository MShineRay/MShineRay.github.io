/*!
* felogsdk v1.0.3
* (c) 2022 1659014536455 MShineRay
* @license MIT
*/
var felogsdk=function(t){"use strict";function q(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function C(r){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?q(Object(o),!0).forEach(function(t){var e,n;e=r,n=o[t=t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):q(Object(o)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(o,t))})}return r}var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(t,e){return t===e||t!=t&&e!=e}var D=n;function r(t,e){for(var n=t.length;n--;)if(D(t[n][0],e))return n;return-1}var X=r,N=Array.prototype.splice;var z=r;var F=r;var H=r;function U(t){var e=this.__data__;return!((t=X(e,t))<0)&&(t==e.length-1?e.pop():N.call(e,t,1),--this.size,!0)}function W(t){var e=this.__data__;return(t=z(e,t))<0?void 0:e[t][1]}function J(t){return-1<F(this.__data__,t)}function G(t,e){var n=this.__data__,r=H(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function o(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}o.prototype.clear=function(){this.__data__=[],this.size=0},o.prototype.delete=U,o.prototype.get=W,o.prototype.has=J,o.prototype.set=G;var i=o,$=i;function V(){this.__data__=new $,this.size=0}function Q(t){var e=this.__data__,t=e.delete(t);return this.size=e.size,t}function K(t){return this.__data__.get(t)}function Y(t){return this.__data__.has(t)}var e="object"==typeof e&&e&&e.Object===Object&&e,a="object"==typeof self&&self&&self.Object===Object&&self,a=e||a||Function("return this")(),c=a.Symbol,s=Object.prototype,Z=s.hasOwnProperty,tt=s.toString,u=c?c.toStringTag:void 0;var et=Object.prototype.toString;var nt=function(t){var e=Z.call(t,u),n=t[u];try{var r=!(t[u]=void 0)}catch(t){}var o=tt.call(t);return r&&(e?t[u]=n:delete t[u]),o},rt=function(t){return et.call(t)},ot=c?c.toStringTag:void 0;function d(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":(ot&&ot in Object(t)?nt:rt)(t)}function l(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var it=d,at=l;function f(t){return!!at(t)&&("[object Function]"==(t=it(t))||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t)}var s=a["__core-js_shared__"],ct=(c=/[^.]+$/.exec(s&&s.keys&&s.keys.IE_PROTO||""))?"Symbol(src)_1."+c:"";var st=Function.prototype.toString;var ut=f,dt=function(t){return!!ct&&ct in t},lt=l,ft=function(t){if(null!=t){try{return st.call(t)}catch(t){}try{return t+""}catch(t){}}return""},pt=/^\[object .+?Constructor\]$/,s=Function.prototype,c=Object.prototype,s=s.toString,c=c.hasOwnProperty,ht=RegExp("^"+s.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var gt=function(t){return!(!lt(t)||dt(t))&&(ut(t)?ht:pt).test(ft(t))},vt=function(t,e){return null==t?void 0:t[e]};function p(t,e){return t=vt(t,e),gt(t)?t:void 0}var s=p(a,"Map"),c=p(Object,"create"),yt=c;var wt=c,mt=Object.prototype.hasOwnProperty;var bt=c,_t=Object.prototype.hasOwnProperty;var Ot=c;function jt(t){return t=this.has(t)&&delete this.__data__[t],this.size-=t?1:0,t}function xt(t){var e,n=this.__data__;return wt?"__lodash_hash_undefined__"===(e=n[t])?void 0:e:mt.call(n,t)?n[t]:void 0}function St(t){var e=this.__data__;return bt?void 0!==e[t]:_t.call(e,t)}function kt(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Ot&&void 0===e?"__lodash_hash_undefined__":e,this}function h(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}h.prototype.clear=function(){this.__data__=yt?yt(null):{},this.size=0},h.prototype.delete=jt,h.prototype.get=xt,h.prototype.has=St,h.prototype.set=kt;var At=h,Et=i,Tt=s;var It=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};function g(t,e){return t=t.__data__,It(e)?t["string"==typeof e?"string":"hash"]:t.map}var Pt=g;var Rt=g;var Mt=g;var Lt=g;function Bt(t){return t=Pt(this,t).delete(t),this.size-=t?1:0,t}function qt(t){return Rt(this,t).get(t)}function Ct(t){return Mt(this,t).has(t)}function Dt(t,e){var n=Lt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function v(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}v.prototype.clear=function(){this.size=0,this.__data__={hash:new At,map:new(Tt||Et),string:new At}},v.prototype.delete=Bt,v.prototype.get=qt,v.prototype.has=Ct,v.prototype.set=Dt;var Xt=i,Nt=s,zt=v;function Ft(t,e){var n=this.__data__;if(n instanceof Xt){var r=n.__data__;if(!Nt||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new zt(r)}return n.set(t,e),this.size=n.size,this}var Ht=i,c=Q,s=K,i=Y;function y(t){t=this.__data__=new Ht(t);this.size=t.size}y.prototype.clear=V,y.prototype.delete=c,y.prototype.get=s,y.prototype.has=i,y.prototype.set=Ft;var c=y,Ut=p,s=function(){try{var t=Ut(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),Wt=s;function w(t,e,n){"__proto__"==e&&Wt?Wt(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Jt=w,Gt=n;function $t(t,e,n){(void 0===n||Gt(t[e],n))&&(void 0!==n||e in t)||Jt(t,e,n)}var m,i=function(s){return function(t,e,n){for(var r=-1,o=Object(t),i=n(t),a=i.length;a--;){var c=i[s?a:++r];if(!1===e(o[c],c,o))break}return t}}(),Vt={exports:{}};_=(_=(x=Vt).exports)&&!_.nodeType&&_,j=(j=_&&x&&!x.nodeType&&x)&&j.exports===_?a.Buffer:void 0,m=j?j.allocUnsafe:void 0,x.exports=function(t,e){return e?t.slice():(e=t.length,e=m?m(e):new t.constructor(e),t.copy(e),e)};var Qt=a.Uint8Array;var Kt=function(t){var e=new t.constructor(t.byteLength);return new Qt(e).set(new Qt(t)),e};function Yt(t,e){return e=e?Kt(t.buffer):t.buffer,new t.constructor(e,t.byteOffset,t.length)}function Zt(t,e){var n=-1,r=t.length;for(e=e||Array(r);++n<r;)e[n]=t[n];return e}var te=l,ee=Object.create;function b(){}var _=function(e,n){return function(t){return e(n(t))}}(Object.getPrototypeOf,Object),ne=Object.prototype;function re(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ne)}var oe=function(t){if(!te(t))return{};if(ee)return ee(t);b.prototype=t;t=new b;return b.prototype=void 0,t},ie=_,ae=re;function ce(t){return"function"!=typeof t.constructor||ae(t)?{}:oe(ie(t))}function O(t){return null!=t&&"object"==typeof t}var se=d,ue=O;var j=function(t){return ue(t)&&"[object Arguments]"==se(t)},de=O,x=Object.prototype,le=x.hasOwnProperty,fe=x.propertyIsEnumerable,x=j(function(){return arguments}())?j:function(t){return de(t)&&le.call(t,"callee")&&!fe.call(t,"callee")},j=Array.isArray;function pe(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=9007199254740991}var he=f,ge=pe;function S(t){return null!=t&&ge(t.length)&&!he(t)}var ve=S,ye=O;function we(t){return ye(t)&&ve(t)}var me={exports:{}};P=(P=(I=me).exports)&&!P.nodeType&&P,k=(k=P&&I&&!I.nodeType&&I)&&k.exports===P?a.Buffer:void 0,P=k?k.isBuffer:void 0,I.exports=P||function(){return!1};var be=d,_e=_,Oe=O,a=Function.prototype,k=Object.prototype,je=a.toString,xe=k.hasOwnProperty,Se=je.call(Object);function ke(t){return!(!Oe(t)||"[object Object]"!=be(t))&&(null===(t=_e(t))||"function"==typeof(t=xe.call(t,"constructor")&&t.constructor)&&t instanceof t&&je.call(t)==Se)}var Ae=d,Ee=pe,Te=O,A={};A["[object Float32Array]"]=A["[object Float64Array]"]=A["[object Int8Array]"]=A["[object Int16Array]"]=A["[object Int32Array]"]=A["[object Uint8Array]"]=A["[object Uint8ClampedArray]"]=A["[object Uint16Array]"]=A["[object Uint32Array]"]=!0,A["[object Arguments]"]=A["[object Array]"]=A["[object ArrayBuffer]"]=A["[object Boolean]"]=A["[object DataView]"]=A["[object Date]"]=A["[object Error]"]=A["[object Function]"]=A["[object Map]"]=A["[object Number]"]=A["[object Object]"]=A["[object RegExp]"]=A["[object Set]"]=A["[object String]"]=A["[object WeakMap]"]=!1;function Ie(t){return Te(t)&&Ee(t.length)&&!!A[Ae(t)]}function Pe(e){return function(t){return e(t)}}var E,T,I={exports:{}},a=(_=(_=(P=I).exports)&&!_.nodeType&&_,E=_&&P&&!P.nodeType&&P,T=E&&E.exports===_&&e.process,_=function(){try{var t=E&&E.require&&E.require("util").types;return t?t:T&&T.binding&&T.binding("util")}catch(t){}}(),P.exports=_,Ie),k=Pe,e=I.exports,P=e&&e.isTypedArray,_=P?k(P):a;function Re(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Me=w,Le=n,Be=Object.prototype.hasOwnProperty;var qe=function(t,e,n){var r=t[e];Be.call(t,e)&&Le(r,n)&&(void 0!==n||e in t)||Me(t,e,n)},Ce=w;var De=/^(?:0|[1-9]\d*)$/;function Xe(t,e){var n=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==n||"symbol"!=n&&De.test(t))&&-1<t&&t%1==0&&t<e}var Ne=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r},ze=x,Fe=j,He=me.exports,Ue=Xe,We=_,Je=Object.prototype.hasOwnProperty;var Ge=l,$e=re,Ve=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},Qe=Object.prototype.hasOwnProperty;var Ke=function(t,e){var n,r=Fe(t),o=!r&&ze(t),i=!r&&!o&&He(t),a=!r&&!o&&!i&&We(t),c=r||o||i||a,s=c?Ne(t.length,String):[],u=s.length;for(n in t)!e&&!Je.call(t,n)||c&&("length"==n||i&&("offset"==n||"parent"==n)||a&&("buffer"==n||"byteLength"==n||"byteOffset"==n)||Ue(n,u))||s.push(n);return s},Ye=function(t){if(!Ge(t))return Ve(t);var e,n=$e(t),r=[];for(e in t)("constructor"!=e||!n&&Qe.call(t,e))&&r.push(e);return r},Ze=S;function tn(t){return Ze(t)?Ke(t,!0):Ye(t)}var en=function(t,e,n,r){for(var o=!n,i=(n=n||{},-1),a=e.length;++i<a;){var c=e[i],s=r?r(n[c],t[c],c,n,t):void 0;void 0===s&&(s=t[c]),(o?Ce:qe)(n,c,s)}return n},nn=tn;var rn=$t,on=Vt.exports,an=Yt,cn=Zt,sn=ce,un=x,dn=j,ln=we,fn=me.exports,pn=f,hn=l,gn=ke,vn=_,yn=Re,wn=function(t){return en(t,nn(t))};var mn=c,bn=$t,_n=i,On=function(t,e,n,r,o,i,a){var c,s,u,d=yn(t,n),l=yn(e,n),f=a.get(l);f||((e=void 0===(f=i?i(d,l,n+"",t,e,a):void 0))&&(s=!(c=dn(l))&&fn(l),u=!c&&!s&&vn(l),f=l,c||s||u?f=dn(d)?d:ln(d)?cn(d):s?on(l,!(e=!1)):u?an(l,!(e=!1)):[]:gn(l)||un(l)?un(f=d)?f=wn(d):hn(d)&&!pn(d)||(f=sn(l)):e=!1),e&&(a.set(l,f),o(f,l,r,i,a),a.delete(l))),rn(t,n,f)},jn=l,xn=tn,Sn=Re;function kn(t){return t}var An=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},En=Math.max;var Tn=function(t){return function(){return t}},In=s,Pn=Date.now;var I=function(n){var r=0,o=0;return function(){var t=Pn(),e=16-(t-o);if(o=t,0<e){if(800<=++r)return arguments[0]}else r=0;return n.apply(void 0,arguments)}}(In?function(t,e){return In(t,"toString",{configurable:!0,enumerable:!1,value:Tn(e),writable:!0})}:kn),Rn=kn,Mn=function(i,a,c){return a=En(void 0===a?i.length-1:a,0),function(){for(var t=arguments,e=-1,n=En(t.length-a,0),r=Array(n);++e<n;)r[e]=t[a+e];for(var e=-1,o=Array(a+1);++e<a;)o[e]=t[e];return o[a]=c(r),An(i,this,o)}},Ln=I;var Bn=n,qn=S,Cn=Xe,Dn=l;var Xn=function(t,e){return Ln(Mn(t,e,Rn),t+"")},Nn=function(t,e,n){if(!Dn(n))return!1;var r=typeof e;return!!("number"==r?qn(n)&&Cn(e,n.length):"string"==r&&e in n)&&Bn(n[e],t)};var zn=function r(o,i,a,c,s){o!==i&&_n(i,function(t,e){var n;s=s||new mn,jn(t)?On(o,i,e,a,r,c,s):(n=c?c(Sn(o,e),t,e+"",o,i,s):void 0,bn(o,e,n=void 0===n?t:n))},xn)},Fn=function(c){return Xn(function(t,e){var n=-1,r=e.length,o=1<r?e[r-1]:void 0,i=2<r?e[2]:void 0,o=3<c.length&&"function"==typeof o?(r--,o):void 0;for(i&&Nn(e[0],e[1],i)&&(o=r<3?void 0:o,r=1),t=Object(t);++n<r;){var a=e[n];a&&c(t,a,n,o)}return t})}(function(t,e,n){zn(t,e,n)}),Hn="1.0.3",Un=((new Date).getTime(),(new Date).getFullYear(),{larkNotice:{open:!0,url:"https://www.tobetter.org.cn/apife/api/report",key:"【FE_LOG】",webhookKey:"d4ea43c198e2",webhook:"d4ea43c198e2"},url:"https://www.tobetter.org.cn/apife/api/report",open:!0,switch:{timing:!0,windowError:!0,unhandledrejection:!0,mock:!1,showLog:!1,debug:!1,checkProjectVersion:!1},sendType:"ajax",timeout:3e3,callback:function(){},imgUseCrossOrigin:!1,commonData:{}}),R={};function Wn(){return(1e7*Math.random()).toString(16).substr(0,4)+"-"+(new Date).getTime()+"-"+Math.random().toString().substr(2,5)}function Jn(t){return null!=t&&"[object Object]"===Gn.call(t)}var e=Array.isArray,k=Object.prototype,Gn=k.toString,P=Array.prototype,$n=P.forEach,Vn=P.slice,Qn=k.hasOwnProperty,Kn=e||function(t){return"[object Array]"===Gn.call(t)};function Yn(){var t=!1;if("object"!=typeof navigator||"function"!=typeof navigator.sendBeacon)return t;e={},n=navigator.userAgent.toLowerCase(),(r=n.match(/opera.([\d.]+)/))?e.opera=Number(r[1].split(".")[0]):(r=n.match(/msie ([\d.]+)/))?e.ie=Number(r[1].split(".")[0]):(r=n.match(/edge.([\d.]+)/))?e.edge=Number(r[1].split(".")[0]):(r=n.match(/firefox\/([\d.]+)/))?e.firefox=Number(r[1].split(".")[0]):(r=n.match(/chrome\/([\d.]+)/))?e.chrome=Number(r[1].split(".")[0]):(r=n.match(/version\/([\d.]+).*safari/))?e.safari=Number(r[1].match(/^\d*.\d*/)):(r=n.match(/trident\/([\d.]+)/))&&(e.ie=11);var e,n=e,r=navigator.userAgent.toLowerCase();return/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)?(e=(r.match(/os [\d._]*/gi)+"").replace(/[^0-9|]/gi,"").replace(/_/gi,".").split("."),void 0===n.safari&&(n.safari=e[0]),e[0]&&e[0]<13?(41<n.chrome||30<n.firefox||25<n.opera||12<n.safari)&&(t=!0):(41<n.chrome||30<n.firefox||25<n.opera||11.3<n.safari)&&(t=!0)):(38<n.chrome||13<n.edge||30<n.firefox||25<n.opera||11<n.safari)&&(t=!0),t}function Zn(){var e,t="felogsdk_session-storage-support";try{e=!(!sessionStorage||!sessionStorage.setItem)&&(sessionStorage.setItem(t,"testIsSupportStorage"),sessionStorage.removeItem(t),!0)}catch(t){e=!1}return e}function M(){if((Zn()&&"true"===sessionStorage.getItem("felogsdk_debug")||R.switch.showLog)&&(!Jn(arguments[0])||!0!==R.switch.showLog&&"string"!==R.switch.showLog&&!1!==R.switch.showLog||(arguments[0]=function(e){try{return JSON.stringify(e,null,"  ")}catch(t){return JSON.stringify(e)}}(arguments[0])),"object"==typeof console&&console.log))try{console.log.apply(console,arguments)}catch(t){console.log(arguments[0])}}var tr={};function er(t,e,n){if(null!=t)if($n&&t.forEach===$n)t.forEach(e,n);else if(Kn(t)&&t.length===+t.length){for(var r=0,o=t.length;r<o;r++)if(r in t&&e.call(n,t[r],r,t)===tr)return}else for(var i in t)if(Qn.call(t,i)&&e.call(n,t[i],i,t)===tr)return}function nr(t){function e(t){if(!t)return"";try{return JSON.parse(t)}catch(t){return{}}}t.timeout=t.timeout||2e4,t.credentials=void 0===t.credentials||t.credentials;var n=function(t){if(t)return void 0!==window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest?new XMLHttpRequest:void 0!==window.XDomainRequest?new window.XDomainRequest:null;if(void 0!==window.XMLHttpRequest)return new XMLHttpRequest;if(window.ActiveXObject)try{return new window.ActiveXObject("Msxml2.XMLHTTP")}catch(t){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(t){console.error(t)}}}(t.cors);if(n){t.type||(t.type=t.data?"POST":"GET");var r,o=(t=function(n){return er(Vn.call(arguments,1),function(t){for(var e in t)Qn.call(t,e)&&void 0!==t[e]&&(n[e]=t[e])}),n}({success:function(){},error:function(){}},t)).success,i=t.error;t.success=function(t){o(t),r&&(clearTimeout(r),r=null)},t.error=function(t){i(t),r&&(clearTimeout(r),r=null)},r=setTimeout(function(){try{Jn(n)&&n.abort&&n.abort()}catch(t){M(t)}r&&(clearTimeout(r),r=null,t.error&&t.error(),n.onreadystatechange=null,n.onload=null,n.onerror=null)},t.timeout),void 0!==window.XDomainRequest&&n instanceof window.XDomainRequest&&(n.onload=function(){t.success&&t.success(e(n.responseText)),n.onreadystatechange=null,n.onload=null,n.onerror=null},n.onerror=function(){t.error&&t.error(e(n.responseText),n.status),n.onreadystatechange=null,n.onerror=null,n.onload=null}),n.onreadystatechange=function(){try{4==n.readyState&&(200<=n.status&&n.status<300||304==n.status?t.success(e(n.responseText)):t.error(e(n.responseText),n.status),n.onreadystatechange=null,n.onload=null)}catch(t){n.onreadystatechange=null,n.onload=null}},n.open(t.type,t.url,!0);try{t.credentials&&(n.withCredentials=!0),Jn(t.header)&&er(t.header,function(t,e){n.setRequestHeader&&n.setRequestHeader(e,t)}),t.data&&(t.cors||n.setRequestHeader&&n.setRequestHeader("X-Requested-With","XMLHttpRequest"),"application/json"===t.contentType?n.setRequestHeader&&n.setRequestHeader("Content-type","application/json; charset=UTF-8"):n.setRequestHeader&&n.setRequestHeader("Content-type","application/x-www-form-urlencoded"))}catch(t){M(t)}n.send(t.data||null)}}function rr(){return function(){var e,t="felogsdk_local-storage-support";try{e=!(!localStorage||!localStorage.setItem)&&(localStorage.setItem(t,"testIsSupportStorage"),localStorage.removeItem(t),!0)}catch(t){e=!1}return e}()?JSON.parse(JSON.stringify(localStorage)):{}}function or(t,n){var r,e,o;"performance"in window&&((r=performance&&performance.timing)&&(e=function(){var t={},e={t_l:r.loadEventStart-r.fetchStart,t_tti:r.domInteractive-r.fetchStart,t_fpt:r.responseEnd-r.fetchStart},t=Object.assign({},t,e);n(t)},o=window.onload,"function"!=typeof window.onload?window.onload=e:window.onload=function(){o(),e()}))}var ir=function(t){M("encodeTrackDataFn data:"),M(t);t=function(e){var n="";try{n=btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(t,e){return String.fromCharCode("0x"+e)}))}catch(t){n=e}return n}(JSON.stringify(t));return"data="+encodeURIComponent(t)};function ar(t){t={config:{larkNotice:t.config.larkNotice,mock:t.config.switch.mock},data:t.data};return ir(t)}var L=function(t){var e;this.callback=t.config.callback,this.img=document.createElement("img"),this.img.width=1,this.img.height=1,t.config.imgUseCrossOrigin&&(this.img.crossOrigin="anonymous"),this.data=t.data,this.server_url=(e=t.config.url,t=ar(t=t),-1!==e.indexOf("?")?e+"&"+t:e+"?"+t)},cr=(L.prototype.start=function(){this.img.src=this.server_url},L.prototype.lastClear=function(){this.img.src=""},function(t){this.callback=t.config.callback,this.server_url=t.config.url,this.timeout=t.config.timeout,this.data=ar(t)}),sr=(cr.prototype.start=function(){var t=this;nr({url:this.server_url,type:"POST",data:this.data,credentials:!1,timeout:this.timeout,cors:!0,success:function(){t.isEnd()},error:function(){t.isEnd()}})},function(t){this.callback=t.config.callback,this.server_url=t.config.url,this.data=ar(t)});function ur(t){switch(M("getSender option:"),M(t),function(t){var e=Un.sendType;t.config&&["image","ajax","beacon"].includes(t.config.sendType)&&(e=t.config.sendType);("beacon"!==e||Yn())&&("ajax"!==e||void 0!==window.XMLHttpRequest&&("withCredentials"in new XMLHttpRequest||void 0!==window.XDomainRequest))||(e="image");return e}(t)){case"image":return new L(t);case"ajax":return new cr(t);case"beacon":return new sr(t);default:return new L(t)}}sr.prototype.start=function(){var t=this;"object"==typeof navigator&&"function"==typeof navigator.sendBeacon&&navigator.sendBeacon(this.server_url,this.data),setTimeout(function(){t.isEnd()},40)};var dr={};function B(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"FE_LOG",e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};try{!function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};M("feLogSdk send data:"),M(t),R.open&&dr.realtimeSend({config:R,data:t})}({en:t,bd:C({},e),cd:lr()})}catch(t){console.error(t)}}dr.queue={items:[],enqueue:function(t){this.items.push(t),this.start()},dequeue:function(){return this.items.shift()},getCurrentItem:function(){return this.items[0]},isRun:!1,start:function(){0<this.items.length&&!this.isRun&&(this.isRun=!0,this.getCurrentItem().start())},close:function(){this.dequeue(),this.isRun=!1,this.start()}},dr.realtimeSend=function(t){var e,n;e=t,M("getRealtimeInstance option:"),M(e),t=ur(e),n=t.start,t.start=function(){var t=this;n.apply(this,arguments),setTimeout(function(){t.isEnd(!0)},e.config.timeout)},t.end=function(){this.callback&&this.callback()},t.isEnd=function(){this.received||(this.received=!0,this.end())},t.start()};function lr(){var t,e=(new Date).getTime().toString();return C({tid:function(){try{var t=window.sessionStorage,e=t.getItem("felogsdk_tid");return e||(e=Wn(),t.setItem("felogsdk_tid",e),e)}catch(t){return""}}()||Wn(),t:e,p:navigator.platform,ov:-1<(e=navigator.userAgent).indexOf("Mac OS X")?"IOS"+(e.match(/OS [\d._]*/gi)+"").replace(/[^0-9|_.]/gi,"").replace(/_/gi,"."):-1<e.indexOf("Android")||-1<e.indexOf("Linux")?"Android"+e.substr(e.indexOf("Android")+8,e.indexOf(";",e.indexOf("Android"))-e.indexOf("Android")-8):-1<e.indexOf("BB10")?"blackberry"+e.substr(e.indexOf("BB10")+5,e.indexOf(";",e.indexOf("BB10"))-e.indexOf("BB10")-5):-1<e.indexOf("IEMobile")?"winphone"+e.substr(e.indexOf("IEMobile")+9,e.indexOf(";",e.indexOf("IEMobile"))-e.indexOf("IEMobile")-9):-1<(e=navigator.userAgent.toLowerCase()).indexOf("windows nt 5.0")?"Windows 2000":-1<e.indexOf("windows nt 5.1")||-1<e.indexOf("windows nt 5.2")?"Windows XP":-1<e.indexOf("windows nt 6.0")?"Windows Vista":-1<e.indexOf("windows nt 6.1")||-1<e.indexOf("windows 7")?"Windows 7":-1<e.indexOf("windows nt 6.2")||-1<e.indexOf("windows 8")?"Windows 8":-1<e.indexOf("windows nt 6.3")?"Windows 8.1":-1<e.indexOf("windows nt 6.2")||-1<e.indexOf("windows nt 10.0")?"Windows 10":"Unknown",l:navigator.language||navigator.browserLanguage,did:(e=window.localStorage,(t=e.getItem("felogsdk_did"))||(t=Wn(),e.setItem("felogsdk_did",t),t)),dsc:window.screen.width+"x"+window.screen.height,dcwh:(window.innerWidth||document.documentElement.clientWidth)+"x"+(window.innerHeight||document.documentElement.clientHeight),if:window.self!==window.top,ph:window.self!==window.top?encodeURIComponent(window.top.location.href):"",im:!!navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i),h:encodeURIComponent(window.location.href),pn:location.pathname,hn:window.location.hostname,b:function(){var t,e=navigator.userAgent.toLowerCase(),n=null,r={IE:window.ActiveXObject||"ActiveXObject"in window,Chrome:-1<e.indexOf("chrome")&&-1<e.indexOf("safari"),Firefox:-1<e.indexOf("firefox"),Opera:-1<e.indexOf("opera"),Safari:-1<e.indexOf("safari")&&-1===e.indexOf("chrome"),Edge:-1<e.indexOf("edge"),QQBrowser:/qqbrowser/.test(e),WeixinBrowser:/MicroMessenger/i.test(e)};for(t in r)r[t]&&(n=t);return n}(),os:function(){var t,e="",n={},r=navigator.userAgent.toLowerCase();for(t in n.Windows="Win32"===navigator.platform||"Windows"===navigator.platform,n.Mac="Mac68K"===navigator.platform||"MacPPC"===navigator.platform||"Macintosh"===navigator.platform||"MacIntel"===navigator.platform,n.iphone=-1<r.indexOf("iphone"),n.ipod=-1<r.indexOf("ipod"),n.ipad=-1<r.indexOf("ipad"),n.Android=-1<r.indexOf("android"),n)n[t]&&(e=t);return e}(),ua:navigator.userAgent,sdk:{v:Hn,bt:1659014536455},ref:encodeURIComponent(document.referrer),ss:Zn()?JSON.parse(JSON.stringify(sessionStorage)):{},ls:rr(),ck:document.cookie},R.commonData||{})}function fr(){"image"!==(R=Fn({},Un,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{})).sendType&&"ajax"!==R.sendType&&"beacon"!==R.sendType&&(R.sendType="image")}function pr(t){!function(t){R.commonData=Fn({},R.commonData,0<arguments.length&&void 0!==t?t:{})}(t)}return t.init=function(){var e,n,{config:t={},callback:r=null,commonData:o={}}=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(fr(t),pr(o||{}),R.switch.timing&&or(0,function(t){B("FE_TIMING",t)}),R.switch.windowError&&(e=function(t){B("FE_JS_ERROR",t)},window.addEventListener("error",function(t){t={eventType:"window_onerror",err_message:t.message,err_lineno:t.lineno,err_colno:t.colno,err_stack:t.error.stack,err_filename:t.filename,err_type:t.type};e&&e(t)})),R.switch.unhandledrejection&&(n=function(t){B("FE_JS_ERROR",t)},window.addEventListener("unhandledrejection",t=>{t={eventType:"unhandledrejection",err_type:t.type||"unhandledrejection",err_reason:t.reason};n&&n(t)})),R.switch.checkProjectVersion)try{document.body.addEventListener("click",function(){var n,r,o="felogsdk_"+location.hostname+"_feprojectversion",i=localStorage.getItem(o);return n=function(t){var e;i?i&&t&&(i!==t?document.getElementById(o)||((e=document.createElement("div")).textContent="页面有更新，请点击刷新",e.style="cursor: pointer;z-index:99999999;padding:5px;border-radius:5px;position: fixed; bottom: 20px; right: 5px; font-size: 12px;background-color: black;color: red;",e.id=o,document.body.appendChild(e),document.getElementById(o).addEventListener("click",function(){console.log("page reload..."),document.body.remove(document.getElementById(o)),localStorage.setItem(o,t),location.reload()})):(localStorage.setItem(o,t),document.getElementById(o)&&(document.getElementById(o).removeEventListener("click"),document.body.remove(document.getElementById(o))))):localStorage.setItem(o,t)},(r=new XMLHttpRequest).open("GET",location.origin+"/version/index.json?t="+(new Date).getTime(),!0),r.send(),!(r.onreadystatechange=function(){if(4===r.readyState&&200===r.status){var t,e=r.responseText;try{e&&JSON.parse(e)&&(t=JSON.parse(e).version,n(t))}catch(t){console.log(t)}}})})}catch(t){console.error("checkProjectVersion error:"+t)}r&&r()},t.report=B,t.setBZCommonData=pr,t.setConfig=fr,Object.defineProperty(t,"__esModule",{value:!0}),t}({});
