<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>promise | ToBetter</title>
    <meta name="description" content="For better, do better">
    <meta name="generator" content="VitePress v1.5.0">
    <link rel="preload stylesheet" href="/assets/style.BmL2Qe9B.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.Byh3XfPl.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.DYRlNsdU.js">
    <link rel="modulepreload" href="/assets/chunks/framework.D2q5ST7L.js">
    <link rel="modulepreload" href="/assets/work-notes_front-end_js_promise_index.md.CAlhBjKM.lean.js">
    <link href="/css/variables.css" rel="stylesheet" type="text/css">
    <link href="/css/readnotes.css" rel="stylesheet" type="text/css">
    <link href="/css/weread.css" rel="stylesheet" type="text/css">
    <link href="/favicon.ico" rel="icon">
    <meta name="app-build-time" value="1735551856241">
    <script src="https://www.googletagmanager.com/gtag/js?id=G-R31NB6KKBC" async></script>
    <link href="//cdn.bootcss.com/gitalk/1.5.0/gitalk.min.css" rel="stylesheet">
    <script src="//cdn.bootcss.com/gitalk/1.7.2/gitalk.min.js"></script>
    <script>if(typeof window<"u"){let n=function(){dataLayer.push(arguments)},o=function(a,e){return n("event",a,e||{}),!1};var gtag=n,gtag_event=o;window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-R31NB6KKBC"),window.onload=function(){console.log("onload..."),window.gtag_event&&window.gtag_event(location.pathname)}}</script>
    <script>var initGitalk=function(e){var a=new Gitalk({clientID:"187ca77e9ef602c818de",clientSecret:"f6e67959ddba9c12d2cf1f0b2f229febb61e4422",repo:"MShineRay.github.io",owner:"MShineRay",admin:["MShineRay"],id:e||"\u8BC4\u8BBA",language:"zh-CN",perPage:10,distractionFreeMode:!1,pagerDirection:"last",createIssueManually:!1});a.render("gitalk-container")};</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-1b57543f><!--[--><!--]--><!--[--><span tabindex="-1" data-v-71b81ed5></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-71b81ed5> Skip to content </a><!--]--><!----><header class="VPNav" data-v-1b57543f data-v-5ce5c9f6><div class="VPNavBar" data-v-5ce5c9f6 data-v-5fac59fc><div class="wrapper" data-v-5fac59fc><div class="container" data-v-5fac59fc><div class="title" data-v-5fac59fc><div class="VPNavBarTitle has-sidebar" data-v-5fac59fc data-v-038cc239><a class="title" href="/" data-v-038cc239><!--[--><!--]--><!--[--><img class="VPImage logo" src="/img/logo-share-dark.svg" alt data-v-9601564a><!--]--><span data-v-038cc239>ToBetter</span><!--[--><!--]--></a></div></div><div class="content" data-v-5fac59fc><div class="content-body" data-v-5fac59fc><!--[--><!--]--><div class="VPNavBarSearch search" data-v-5fac59fc><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-5fac59fc data-v-53a0c95b><span id="main-nav-aria-label" class="visually-hidden" data-v-53a0c95b> Main Navigation </span><!--[--><!--[--><div class="VPFlyout VPNavBarMenuGroup active" data-v-53a0c95b data-v-ba57f823><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-ba57f823><span class="text" data-v-ba57f823><!----><span data-v-ba57f823>Space</span><span class="vpi-chevron-down text-icon" data-v-ba57f823></span></span></button><div class="menu" data-v-ba57f823><div class="VPMenu" data-v-ba57f823 data-v-88300c82><div class="items" data-v-88300c82><!--[--><!--[--><div class="VPMenuLink" data-v-88300c82 data-v-b346c2c8><a class="VPLink link" href="/read-notes/" data-v-b346c2c8><!--[--><span data-v-b346c2c8>Read Notes</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-88300c82 data-v-b346c2c8><a class="VPLink link" href="/image-notes/" data-v-b346c2c8><!--[--><span data-v-b346c2c8>Image Notes</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-88300c82 data-v-b346c2c8><a class="VPLink link" href="/www-notes/" data-v-b346c2c8><!--[--><span data-v-b346c2c8>WWW Notes</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-88300c82 data-v-b346c2c8><a class="VPLink link vp-external-link-icon" href="https://www.npmjs.com/package/@a0znpm/fecli" target="_blank" rel="noreferrer" data-v-b346c2c8><!--[--><span data-v-b346c2c8>fecli</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-88300c82 data-v-b346c2c8><a class="VPLink link" href="/work-notes/" data-v-b346c2c8><!--[--><span data-v-b346c2c8>Work Notes</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><!----><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-5fac59fc data-v-aac9ffe0 data-v-c6ba2f66><!--[--><a class="VPSocialLink no-icon" href="https://github.com/mshineray/" aria-label="github" target="_blank" rel="noopener" data-v-c6ba2f66 data-v-89ea210b><span class="vpi-social-github"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-5fac59fc data-v-710feb5c data-v-ba57f823><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-ba57f823><span class="vpi-more-horizontal icon" data-v-ba57f823></span></button><div class="menu" data-v-ba57f823><div class="VPMenu" data-v-ba57f823 data-v-88300c82><!----><!--[--><!--[--><!----><!----><div class="group" data-v-710feb5c><div class="item social-links" data-v-710feb5c><div class="VPSocialLinks social-links-list" data-v-710feb5c data-v-c6ba2f66><!--[--><a class="VPSocialLink no-icon" href="https://github.com/mshineray/" aria-label="github" target="_blank" rel="noopener" data-v-c6ba2f66 data-v-89ea210b><span class="vpi-social-github"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-5fac59fc data-v-ca7368f2><span class="container" data-v-ca7368f2><span class="top" data-v-ca7368f2></span><span class="middle" data-v-ca7368f2></span><span class="bottom" data-v-ca7368f2></span></span></button></div></div></div></div><div class="divider" data-v-5fac59fc><div class="divider-line" data-v-5fac59fc></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-1b57543f data-v-85fdced7><div class="container" data-v-85fdced7><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-85fdced7><span class="vpi-align-left menu-icon" data-v-85fdced7></span><span class="menu-text" data-v-85fdced7>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-85fdced7 data-v-014e4cd5><button data-v-014e4cd5>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-1b57543f data-v-9d48938e><div class="curtain" data-v-9d48938e></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-9d48938e><span class="visually-hidden" id="sidebar-aria-label" data-v-9d48938e> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-3c94234f><section class="VPSidebarItem level-0 has-active" data-v-3c94234f data-v-f2230e93><div class="item" role="button" tabindex="0" data-v-f2230e93><div class="indicator" data-v-f2230e93></div><h2 class="text" data-v-f2230e93>Work Notes</h2><!----></div><div class="items" data-v-f2230e93><!--[--><div class="VPSidebarItem level-1 is-link" data-v-f2230e93 data-v-f2230e93><div class="item" data-v-f2230e93><div class="indicator" data-v-f2230e93></div><a class="VPLink link link" href="/work-notes/aigc/" data-v-f2230e93><!--[--><p class="text" data-v-f2230e93>AIGC</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f2230e93 data-v-f2230e93><div class="item" data-v-f2230e93><div class="indicator" data-v-f2230e93></div><a class="VPLink link link" href="/work-notes/charles/" data-v-f2230e93><!--[--><p class="text" data-v-f2230e93>charles</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f2230e93 data-v-f2230e93><div class="item" data-v-f2230e93><div class="indicator" data-v-f2230e93></div><a class="VPLink link link" href="/work-notes/quick-app/" data-v-f2230e93><!--[--><p class="text" data-v-f2230e93>Quick App</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f2230e93 data-v-f2230e93><div class="item" data-v-f2230e93><div class="indicator" data-v-f2230e93></div><a class="VPLink link link" href="/work-notes/rich-text/" data-v-f2230e93><!--[--><p class="text" data-v-f2230e93>rich text</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f2230e93 data-v-f2230e93><div class="item" data-v-f2230e93><div class="indicator" data-v-f2230e93></div><a class="VPLink link link" href="/work-notes/svelte/" data-v-f2230e93><!--[--><p class="text" data-v-f2230e93>svelte</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f2230e93 data-v-f2230e93><div class="item" data-v-f2230e93><div class="indicator" data-v-f2230e93></div><a class="VPLink link link" href="/work-notes/web3/" data-v-f2230e93><!--[--><p class="text" data-v-f2230e93>web3</p><!--]--></a><!----></div><!----></div><section class="VPSidebarItem level-1 is-link" data-v-f2230e93 data-v-f2230e93><div class="item" tabindex="0" data-v-f2230e93><div class="indicator" data-v-f2230e93></div><a class="VPLink link link" href="/work-notes/front-end/canvas/" data-v-f2230e93><!--[--><h3 class="text" data-v-f2230e93>canvas</h3><!--]--></a><!----></div><div class="items" data-v-f2230e93><!--[--><div class="VPSidebarItem level-2 is-link" data-v-f2230e93 data-v-f2230e93><div class="item" data-v-f2230e93><div class="indicator" data-v-f2230e93></div><a class="VPLink link link" href="/work-notes/front-end/canvas/" data-v-f2230e93><!--[--><p class="text" data-v-f2230e93>canvas相关</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 is-link has-active" data-v-f2230e93 data-v-f2230e93><div class="item" tabindex="0" data-v-f2230e93><div class="indicator" data-v-f2230e93></div><a class="VPLink link link" href="/work-notes/front-end/js/knowledge-point/" data-v-f2230e93><!--[--><h3 class="text" data-v-f2230e93>js相关</h3><!--]--></a><!----></div><div class="items" data-v-f2230e93><!--[--><div class="VPSidebarItem level-2 is-link" data-v-f2230e93 data-v-f2230e93><div class="item" data-v-f2230e93><div class="indicator" data-v-f2230e93></div><a class="VPLink link link" href="/work-notes/front-end/js/knowledge-point/" data-v-f2230e93><!--[--><p class="text" data-v-f2230e93>js知识点</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f2230e93 data-v-f2230e93><div class="item" data-v-f2230e93><div class="indicator" data-v-f2230e93></div><a class="VPLink link link" href="/work-notes/front-end/js/web-api/" data-v-f2230e93><!--[--><p class="text" data-v-f2230e93>js web API</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f2230e93 data-v-f2230e93><div class="item" data-v-f2230e93><div class="indicator" data-v-f2230e93></div><a class="VPLink link link" href="/work-notes/front-end/js/ts/" data-v-f2230e93><!--[--><p class="text" data-v-f2230e93>typescript</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f2230e93 data-v-f2230e93><div class="item" data-v-f2230e93><div class="indicator" data-v-f2230e93></div><a class="VPLink link link" href="/work-notes/front-end/js/promise/" data-v-f2230e93><!--[--><p class="text" data-v-f2230e93>promise</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1 is-link" data-v-f2230e93 data-v-f2230e93><div class="item" tabindex="0" data-v-f2230e93><div class="indicator" data-v-f2230e93></div><a class="VPLink link link" href="/work-notes/front-end/css/knowledge-point/" data-v-f2230e93><!--[--><h3 class="text" data-v-f2230e93>css相关</h3><!--]--></a><!----></div><div class="items" data-v-f2230e93><!--[--><div class="VPSidebarItem level-2 is-link" data-v-f2230e93 data-v-f2230e93><div class="item" data-v-f2230e93><div class="indicator" data-v-f2230e93></div><a class="VPLink link link" href="/work-notes/front-end/css/knowledge-point/" data-v-f2230e93><!--[--><p class="text" data-v-f2230e93>css知识点</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-2 is-link" data-v-f2230e93 data-v-f2230e93><div class="item" data-v-f2230e93><div class="indicator" data-v-f2230e93></div><a class="VPLink link link" href="/work-notes/front-end/css/special-effects/" data-v-f2230e93><!--[--><p class="text" data-v-f2230e93>css特效</p><!--]--></a><!----></div><!----></div><!--]--></div></section><section class="VPSidebarItem level-1" data-v-f2230e93 data-v-f2230e93><div class="item" role="button" tabindex="0" data-v-f2230e93><div class="indicator" data-v-f2230e93></div><h3 class="text" data-v-f2230e93>微信相关</h3><!----></div><div class="items" data-v-f2230e93><!--[--><div class="VPSidebarItem level-2 is-link" data-v-f2230e93 data-v-f2230e93><div class="item" data-v-f2230e93><div class="indicator" data-v-f2230e93></div><a class="VPLink link link" href="/work-notes/front-end/wx/wxshare/" data-v-f2230e93><!--[--><p class="text" data-v-f2230e93>微信卡片分享</p><!--]--></a><!----></div><!----></div><!--]--></div></section><div class="VPSidebarItem level-1 is-link" data-v-f2230e93 data-v-f2230e93><div class="item" tabindex="0" data-v-f2230e93><div class="indicator" data-v-f2230e93></div><a class="VPLink link link" href="/work-notes/front-end/web/" data-v-f2230e93><!--[--><p class="text" data-v-f2230e93>web</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-3c94234f><section class="VPSidebarItem level-0" data-v-3c94234f data-v-f2230e93><div class="item" role="button" tabindex="0" data-v-f2230e93><div class="indicator" data-v-f2230e93></div><h2 class="text" data-v-f2230e93>链接</h2><!----></div><div class="items" data-v-f2230e93><!--[--><div class="VPSidebarItem level-1 is-link" data-v-f2230e93 data-v-f2230e93><div class="item" data-v-f2230e93><div class="indicator" data-v-f2230e93></div><a class="VPLink link link" href="/read-notes/" data-v-f2230e93><!--[--><p class="text" data-v-f2230e93>Read Notes</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f2230e93 data-v-f2230e93><div class="item" data-v-f2230e93><div class="indicator" data-v-f2230e93></div><a class="VPLink link link" href="/www-notes/" data-v-f2230e93><!--[--><p class="text" data-v-f2230e93>WWW Notes</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-f2230e93 data-v-f2230e93><div class="item" data-v-f2230e93><div class="indicator" data-v-f2230e93></div><a class="VPLink link link" href="/image-notes/" data-v-f2230e93><!--[--><p class="text" data-v-f2230e93>Image Notes</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-1b57543f data-v-196311c3><div class="VPDoc has-sidebar has-aside" data-v-196311c3 data-v-1db26c39><!--[--><!--]--><div class="container" data-v-1db26c39><div class="aside" data-v-1db26c39><div class="aside-curtain" data-v-1db26c39></div><div class="aside-container" data-v-1db26c39><div class="aside-content" data-v-1db26c39><div class="VPDocAside" data-v-1db26c39 data-v-c90aee22><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-c90aee22 data-v-611c806d><div class="content" data-v-611c806d><div class="outline-marker" data-v-611c806d></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-611c806d>On this page</div><ul class="VPDocOutlineItem root" data-v-611c806d data-v-1755a209><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-c90aee22></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-1db26c39><div class="content-container" data-v-1db26c39><!--[--><!--]--><main class="main" data-v-1db26c39><div style="position:relative;" class="vp-doc _work-notes_front-end_js_promise_" data-v-1db26c39><div><h1 id="promise" tabindex="-1">promise <a class="header-anchor" href="#promise" aria-label="Permalink to &quot;promise&quot;">​</a></h1><h2 id="mypromise" tabindex="-1">MyPromise <a class="header-anchor" href="#mypromise" aria-label="Permalink to &quot;MyPromise&quot;">​</a></h2><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyPromise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  #status</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;pending&#39;</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  #result</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> undefined</span></span>
<span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">  #handle</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> []</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">executor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> resolve</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">#changeState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;fullfilled&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, data)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> reject</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">data</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">#changeState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;rejected&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, data)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">      // 无法捕获异步错误</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      executor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(resolve, reject)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e){</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  #</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">changeState</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">state</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;pending&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> state;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> result;</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">#run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  #</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">isPromiseLike</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">value</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  #</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">runMicroTask</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">func</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">    setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(func,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  #</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">runOne</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">callback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> callback </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;function&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> settled</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#state </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;fullfilled&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> resolve </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> reject</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      settled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#result);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      return</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> callback</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#result);</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">instanceof</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  MyPromise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        result.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(reslove, reject);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">        resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">      reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  #</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;pending&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    while</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#handle.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">){</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      const</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">onFullfilled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">onRejected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#handle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">shift</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#status </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;fullfilled&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> onFullfilled </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;function&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">            const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> data</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> onFullfilled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#result)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(data)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          }</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (e) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          // 穿透</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#result)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">typeof</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> onRejected </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;function&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">          try</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            onRejected</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#result)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          }</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">catch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (e) {</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">            reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(e)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">          }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">else</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">          // 穿透</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">          reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#result)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  </span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(onFullfilled, onRejected){</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">   </span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyPromise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.#handle.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">push</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        onFullfilled,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        onRejected,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        resolve,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        reject</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      })</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">#run</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    })</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pA </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> MyPromise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;foo&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  reject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;bar &#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">pA.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">result</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(result)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">},(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70;">reason</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  console.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">log</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(reason)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">})</span></span></code></pre></div><h2 id="promises-a-规范" tabindex="-1">Promises/A+规范 <a class="header-anchor" href="#promises-a-规范" aria-label="Permalink to &quot;Promises/A+规范&quot;">​</a></h2><p>由实现者制定，面向实现者的完善、可互操作的 JavaScript 承诺开放标准。</p><p>承诺表示异步操作的最终结果。 与许诺交互的主要方式是通过其 then 方法，该方法注册回调以接收许诺的最终值或许诺无法实现的原因。</p><p>本规范详细说明了 then 方法的行为，提供了一个可互操作的基础，所有符合 Promises/A+ 标准的许诺实现都可以依赖该基础来提供。</p><p>因此，该规范应被视为非常稳定。 尽管 Promises/A+ 组织可能会偶尔对本规范进行一些向后兼容的小修改，以解决新发现的角落情况， 但我们只有在经过仔细考虑、讨论和测试后，才会整合大的或向后不兼容的修改。</p><p>从历史上看，Promises/A+ 阐明了早期 Promises/A 提议中的行为条款，将其扩展到涵盖事实上的行为，并省略了规范不足或有问题的部分。</p><p>最后，Promises/A+ 的核心规范并不涉及如何创建、履行或拒绝承诺，而是专注于提供一种可互操作的方法。 配套规范的未来工作可能会涉及这些主题。</p><h2 id="_1-术语" tabindex="-1">1.术语 <a class="header-anchor" href="#_1-术语" aria-label="Permalink to &quot;1.术语&quot;">​</a></h2><p>1.1. &quot;promise&quot;是具有 then 方法的对象或函数，其行为符合本规范。</p><p>1.2. &quot;thenable&quot;是定义了 then 方法的对象或函数。</p><p>1.3. &quot;value&quot;是任何合法的 JavaScript 值（包括未定义值、thenable 或 promise）。</p><p>1.4. &quot;exception&quot;是使用 throw 语句抛出的值。</p><p>1.5. &quot;reason&quot;是表示拒绝接受承诺的原因的值。</p><h2 id="_2-允诺" tabindex="-1">2.允诺 <a class="header-anchor" href="#_2-允诺" aria-label="Permalink to &quot;2.允诺&quot;">​</a></h2><h3 id="_2-1-状态要求" tabindex="-1">2.1 状态要求 <a class="header-anchor" href="#_2-1-状态要求" aria-label="Permalink to &quot;2.1 状态要求&quot;">​</a></h3><p>允诺必须处于三种状态之一：待定、已履行或已拒绝。</p><h4 id="_2-1-1-待定时-允诺" tabindex="-1">2.1.1. 待定时，允诺： <a class="header-anchor" href="#_2-1-1-待定时-允诺" aria-label="Permalink to &quot;2.1.1. 待定时，允诺：&quot;">​</a></h4><p>   2.1.1.1 可过渡到已履行或已拒绝状态。</p><h4 id="_2-1-2-履行时-允诺" tabindex="-1">2.1.2. 履行时，允诺： <a class="header-anchor" href="#_2-1-2-履行时-允诺" aria-label="Permalink to &quot;2.1.2. 履行时，允诺：&quot;">​</a></h4><p>  2.1.2.1. 不得过渡到任何其他状态。</p><p>  2.1.2.2. 必须有一个值，且该值不得更改。</p><h4 id="_2-1-3-拒绝时-允诺" tabindex="-1">2.1.3. 拒绝时，允诺： <a class="header-anchor" href="#_2-1-3-拒绝时-允诺" aria-label="Permalink to &quot;2.1.3. 拒绝时，允诺：&quot;">​</a></h4><p>  2.1.3.1. 不得过渡到任何其他状态。</p><p>  2.1.3.2. 必须有一个理由，且该理由不得更改。</p><p>这里，&quot;不得更改&quot;是指不变的身份（即 ===），但并不意味着深度不变性。</p><h3 id="_2-2-then-方法" tabindex="-1">2.2. then 方法 <a class="header-anchor" href="#_2-2-then-方法" aria-label="Permalink to &quot;2.2. then 方法&quot;">​</a></h3><p>承诺必须提供一个 then 方法来访问其当前或最终值或原因。</p><p>承诺的 then 方法接受两个参数：</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">promise.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(onFulfilled, onRejected)</span></span></code></pre></div><h4 id="_2-2-1-onfulfilled-和-onrejected-都是可选参数" tabindex="-1">2.2.1. onFulfilled 和 onRejected 都是可选参数： <a class="header-anchor" href="#_2-2-1-onfulfilled-和-onrejected-都是可选参数" aria-label="Permalink to &quot;2.2.1. onFulfilled 和 onRejected 都是可选参数：&quot;">​</a></h4><p>  2.2.1.1. 如果 onFulfilled 不是函数，则必须忽略。</p><p>  2.2.1.2. 如果 onRejected 不是函数，则必须忽略。</p><h4 id="_2-2-2-如果-onfulfilled-是函数" tabindex="-1">2.2.2. 如果 onFulfilled 是函数： <a class="header-anchor" href="#_2-2-2-如果-onfulfilled-是函数" aria-label="Permalink to &quot;2.2.2. 如果 onFulfilled 是函数：&quot;">​</a></h4><p>  2.2.2.1. 它必须在承诺实现后调用，并以承诺的值作为其第一个参数。</p><p>  2.2.2.2. 在拒绝许诺之前，不得调用它。</p><p>  2.2.2.3. 不得多次调用。</p><h4 id="_2-2-3-如果-onrejected-是函数" tabindex="-1">2.2.3. 如果 onRejected 是函数： <a class="header-anchor" href="#_2-2-3-如果-onrejected-是函数" aria-label="Permalink to &quot;2.2.3. 如果 onRejected 是函数：&quot;">​</a></h4><p>  2.2.3.1. 必须在允诺被拒绝后调用，并以允诺的理由作为第一个参数。</p><p>  2.2.3.2. 在允诺被拒绝前不得调用。</p><p>  2.2.3.3. 不得多次调用。</p><h4 id="_2-2-4-onfulfilled-或-onrejected-必须在执行上下文堆栈只包含平台代码时才能调用。-3-1" tabindex="-1">2.2.4. onFulfilled 或 onRejected 必须在执行上下文堆栈只包含平台代码时才能调用。 [3.1] <a class="header-anchor" href="#_2-2-4-onfulfilled-或-onrejected-必须在执行上下文堆栈只包含平台代码时才能调用。-3-1" aria-label="Permalink to &quot;2.2.4. onFulfilled 或 onRejected 必须在执行上下文堆栈只包含平台代码时才能调用。 [3.1]&quot;">​</a></h4><h4 id="_2-2-5-onfulfilled-和-onrejected-必须作为函数调用-即不带-this-值-。-3-2" tabindex="-1">2.2.5. onFulfilled 和 onRejected 必须作为函数调用（即不带 this 值）。 [3.2] <a class="header-anchor" href="#_2-2-5-onfulfilled-和-onrejected-必须作为函数调用-即不带-this-值-。-3-2" aria-label="Permalink to &quot;2.2.5. onFulfilled 和 onRejected 必须作为函数调用（即不带 this 值）。 [3.2]&quot;">​</a></h4><h4 id="_2-2-6-then可对同一承诺多次调用。" tabindex="-1">2.2.6. then可对同一承诺多次调用。 <a class="header-anchor" href="#_2-2-6-then可对同一承诺多次调用。" aria-label="Permalink to &quot;2.2.6. then可对同一承诺多次调用。&quot;">​</a></h4><p>  2.2.6.1. 如果/当承诺被履行时，所有相应的 onFulfilled 回调必须按照对 then 的调用顺序执行。</p><p>  2.2.6.2. 如果/当承诺被拒绝时，所有相应的 onRejected 回调必须按照对 then 的调用顺序执行。</p><h4 id="_2-2-7-then必须返回一个承诺-3-3-。" tabindex="-1">2.2.7. then必须返回一个承诺[3.3]。 <a class="header-anchor" href="#_2-2-7-then必须返回一个承诺-3-3-。" aria-label="Permalink to &quot;2.2.7. then必须返回一个承诺[3.3]。&quot;">​</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> promise2 </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> promise1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(onFulfilled, onRejected);</span></span></code></pre></div><p>  2.2.7.1. 如果 onFulfilled 或 onRejected 返回值 x，则运行允诺解析过程[[Resolve]](promise2, x)。</p><p>  2.2.7.2. 如果 onFulfilled 或 onRejected 抛出异常 e，则必须以 e 为理由拒绝接受 promise2。</p><p>  2.2.7.3. 如果 onFulfilled 不是函数，且 promise1 被履行，则必须以与 promise1 相同的值履行 promise2。</p><p>  2.2.7.4. 如果 onRejected 不是函数，且 promise1 被拒绝接受，则必须以与 promise1 相同的理由拒绝接受 promise2。</p><h3 id="_2-3-允诺解析过程" tabindex="-1">2.3. 允诺解析过程 <a class="header-anchor" href="#_2-3-允诺解析过程" aria-label="Permalink to &quot;2.3. 允诺解析过程&quot;">​</a></h3><p>允诺解析过程是一个抽象操作，它的输入是一个允诺和一个值，我们将其标记为[[Resolve]](promise, x)。 如果 x 是可允诺的，那么在假设 x 的行为至少有点像允诺的情况下，它将尝试使允诺采用 x 的状态。</p><p>对 thenable 的这种处理方法允许 promise 实现互操作，只要它们暴露了一个符合 Promises/A+ 的 then 方法。 它还允许 Promises/A+ 实现用合理的 then 方法 &quot;同化 &quot;不符合要求的实现。</p><p>要运行 [[Resolve]](promise, x)，请执行以下步骤：</p><h4 id="_2-3-1-如果-promise-和-x-指向同一个对象-则以-typeerror-作为理由拒绝-promise。" tabindex="-1">2.3.1. 如果 promise 和 x 指向同一个对象，则以 TypeError 作为理由拒绝 promise。 <a class="header-anchor" href="#_2-3-1-如果-promise-和-x-指向同一个对象-则以-typeerror-作为理由拒绝-promise。" aria-label="Permalink to &quot;2.3.1. 如果 promise 和 x 指向同一个对象，则以 TypeError 作为理由拒绝 promise。&quot;">​</a></h4><h4 id="_2-3-2-如果-x-是一个-promise-则采用它的状态-3-4" tabindex="-1">2.3.2. 如果 x 是一个 promise，则采用它的状态 [3.4]： <a class="header-anchor" href="#_2-3-2-如果-x-是一个-promise-则采用它的状态-3-4" aria-label="Permalink to &quot;2.3.2. 如果 x 是一个 promise，则采用它的状态 [3.4]：&quot;">​</a></h4><p>  2.3.2.1. 如果 x 是 pending，则 promise 必须保持 pending 状态，直到 x 被履行或拒绝。</p><p>  2.3.2.2. 如果/当 x 被履行时，用相同的值履行 promise。</p><p>  2.3.2.3. 如果/当 x 被拒绝时，用相同的理由拒绝 promise。</p><h4 id="_2-3-3-否则-如果-x-是一个对象或函数" tabindex="-1">2.3.3. 否则，如果 x 是一个对象或函数， <a class="header-anchor" href="#_2-3-3-否则-如果-x-是一个对象或函数" aria-label="Permalink to &quot;2.3.3. 否则，如果 x 是一个对象或函数，&quot;">​</a></h4><h5 id="_2-3-3-1-则让-then-成为-x-then。-3-5" tabindex="-1">2.3.3.1. 则让 then 成为 x.then。 [3.5] <a class="header-anchor" href="#_2-3-3-1-则让-then-成为-x-then。-3-5" aria-label="Permalink to &quot;2.3.3.1. 则让 then 成为 x.then。 [3.5]&quot;">​</a></h5><h5 id="_2-3-3-2-如果检索-x-then-属性会导致抛出异常-e-则以-e-为理由拒绝许诺。" tabindex="-1">2.3.3.2. 如果检索 x.then 属性会导致抛出异常 e，则以 e 为理由拒绝许诺。 <a class="header-anchor" href="#_2-3-3-2-如果检索-x-then-属性会导致抛出异常-e-则以-e-为理由拒绝许诺。" aria-label="Permalink to &quot;2.3.3.2. 如果检索 x.then 属性会导致抛出异常 e，则以 e 为理由拒绝许诺。&quot;">​</a></h5><h5 id="_2-3-3-3-如果-then-是一个函数-则以-x-为-this、第一个参数-resolvepromise-和第二个参数-rejectpromise-调用该函数-其中" tabindex="-1">2.3.3.3. 如果 then 是一个函数，则以 x 为 this、第一个参数 resolvePromise 和第二个参数 rejectPromise 调用该函数，其中： <a class="header-anchor" href="#_2-3-3-3-如果-then-是一个函数-则以-x-为-this、第一个参数-resolvepromise-和第二个参数-rejectpromise-调用该函数-其中" aria-label="Permalink to &quot;2.3.3.3. 如果 then 是一个函数，则以 x 为 this、第一个参数 resolvePromise 和第二个参数 rejectPromise 调用该函数，其中：&quot;">​</a></h5><p>  2.3.3.3.1. 如果/当 resolvePromise 被调用且值为 y 时，运行 [[Resolve]](promise, y)</p><p>  2.3.3.3.2. 如果/当 rejectPromise 被调用且理由为 r 时，以 r 为理由拒绝许诺。</p><p>  2.3.3.3.3. 如果同时调用了 resolvePromise 和 rejectPromise，或者对同一个参数进行了多次调用，则以第一次调用为准，以后的调用将被忽略。</p><h6 id="nbsp-nbsp-2-3-3-3-4-如果调用-then-会抛出异常-e" tabindex="-1">  2.3.3.3.4. 如果调用 then 会抛出异常 e， <a class="header-anchor" href="#nbsp-nbsp-2-3-3-3-4-如果调用-then-会抛出异常-e" aria-label="Permalink to &quot;&amp;nbsp;&amp;nbsp;2.3.3.3.4. 如果调用 then 会抛出异常 e，&quot;">​</a></h6><p>    2.3.3.3.4.1. 如果已经调用了 resolvePromise 或 rejectPromise，则忽略它。</p><p>    2.3.3.3.4.2. 否则，以 e 为理由拒绝接受 promise。</p><h4 id="_2-3-3-4-如果-then-不是函数-则用-x-来履行-promise。" tabindex="-1">2.3.3.4. 如果 then 不是函数，则用 x 来履行 promise。 <a class="header-anchor" href="#_2-3-3-4-如果-then-不是函数-则用-x-来履行-promise。" aria-label="Permalink to &quot;2.3.3.4. 如果 then 不是函数，则用 x 来履行 promise。&quot;">​</a></h4><h3 id="_2-3-4-如果-x-不是对象或函数-则用-x-履行承诺。" tabindex="-1">2.3.4. 如果 x 不是对象或函数，则用 x 履行承诺。 <a class="header-anchor" href="#_2-3-4-如果-x-不是对象或函数-则用-x-履行承诺。" aria-label="Permalink to &quot;2.3.4. 如果 x 不是对象或函数，则用 x 履行承诺。&quot;">​</a></h3><p>如果使用参与循环 thenable 链的 thenable 来解决一个 promise，从而使 [[Resolve]](promise, thenable) 的递归性质最终导致 [[Resolve]](promise, thenable) 被再次调用，那么按照上述算法将导致无限递归。 我们鼓励（但不要求）实现检测这种递归，并以告知的 TypeError 作为拒绝 promise 的理由。 [3.6]</p><h2 id="_3-后记" tabindex="-1">3.后记 <a class="header-anchor" href="#_3-后记" aria-label="Permalink to &quot;3.后记&quot;">​</a></h2><p>3.1. 这里的 &quot;平台代码 &quot;是指引擎、环境和承诺实现代码。 在实践中，这一要求可确保 onFulfilled 和 onRejected 在调用它们的事件循环转折之后异步执行，并使用新的堆栈。 这可以通过 setTimeout 或 setImmediate 等 &quot;宏任务 &quot;机制或 MutationObserver 或 process.nextTick 等 &quot;微任务 &quot;机制来实现。 由于 promise 实现被视为平台代码，因此它本身可能包含一个任务调度队列或 &quot;蹦床&quot;，处理程序就在其中被调用。</p><p>3.2. 也就是说，在严格模式下，这在它们内部是未定义的；而在粗放模式下，它将是全局对象。</p><p>3.3. 实现可以允许 promise2 === promise1，前提是实现满足所有要求。 每个实现都应记录它能否产生 promise2 === promise1 以及在什么条件下产生。</p><p>3.4. 一般来说，只有当 x 来自当前的实现时，我们才会知道它是一个真正的承诺。 本条款允许使用特定于实现的方法来采用已知符合性承诺的状态。</p><p>3.5. 首先存储 x.then 的引用，然后测试该引用，最后调用该引用，这一过程避免了对 x.then 属性的多次访问。 这种预防措施对于确保访问者属性的一致性非常重要，因为访问者属性的值可能会在两次检索之间发生变化。</p><p>3.6. 实现不应对 thenable 链的深度设置任意限制，并假定超出任意限制后递归将是无限的。 只有真正的循环才会导致 TypeError；如果遇到不同 thenable 的无限链，那么永远递归才是正确的行为。</p><h2 id="参考资料" tabindex="-1">参考资料 <a class="header-anchor" href="#参考资料" aria-label="Permalink to &quot;参考资料&quot;">​</a></h2><ul><li><a href="https://promisesaplus.com/" target="_blank" rel="noreferrer">Promises/A+ 标准</a></li><li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noreferrer">Promise MDN</a></li></ul></div></div></main><footer class="VPDocFooter" data-v-1db26c39 data-v-25ccbd3c><!--[--><!--]--><div class="edit-info" data-v-25ccbd3c><div class="edit-link" data-v-25ccbd3c><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/MShineRay/MShineRay.github.io/edit/main/src/work-notes/front-end/js/promise/index.md" target="_blank" rel="noreferrer" data-v-25ccbd3c><!--[--><span class="vpi-square-pen edit-link-icon" data-v-25ccbd3c></span> Edit this page on GitHub<!--]--></a></div><!----></div><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-25ccbd3c><span class="visually-hidden" id="doc-footer-aria-label" data-v-25ccbd3c>Pager</span><div class="pager" data-v-25ccbd3c><a class="VPLink link pager-link prev" href="/work-notes/front-end/js/ts/" data-v-25ccbd3c><!--[--><span class="desc" data-v-25ccbd3c>Previous page</span><span class="title" data-v-25ccbd3c>typescript</span><!--]--></a></div><div class="pager" data-v-25ccbd3c><a class="VPLink link pager-link next" href="/work-notes/front-end/css/knowledge-point/" data-v-25ccbd3c><!--[--><span class="desc" data-v-25ccbd3c>Next page</span><span class="title" data-v-25ccbd3c>css相关</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-1b57543f data-v-f57b9928><div class="container" data-v-f57b9928><!----><p class="copyright" data-v-f57b9928>Copyright © 2022-now MShineRay</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"image-notes_image.md\":\"BxoLPXIG\",\"image-notes_index.md\":\"C0hTPXQu\",\"index.md\":\"DjxtAXFp\",\"read-notes_index.md\":\"CTaM8i42\",\"read-notes_weread_aigczhinengchuangzuoshidai.md\":\"CnTa7E95\",\"read-notes_weread_banxiaoshimanhuajingjixuexilie.md\":\"B1Qf7tia\",\"read-notes_weread_banxiaoshimanhuazhongguozhexueshi.md\":\"BfOJ1R0U\",\"read-notes_weread_baochijike.md\":\"xI1P0VsQ\",\"read-notes_weread_bihuansiwei.md\":\"BGwVlWMi\",\"read-notes_weread_daimajingjinzhilucongmanongdaogongjiang.md\":\"CkbwvkV1\",\"read-notes_weread_daxingwangzhanxingnengyouhuashizhan.md\":\"7YJ7a5Z-\",\"read-notes_weread_demianpanghuangshaonianshi.md\":\"CYJNX7eS\",\"read-notes_weread_duansheli.md\":\"39FrcTUL\",\"read-notes_weread_fubaba21shijideshengyi.md\":\"BtJrZOfP\",\"read-notes_weread_fulankelinzichuan.md\":\"Czh7-7Tp\",\"read-notes_weread_furendeluojiruhechuangzaocaifu.md\":\"CWgXuUgm\",\"read-notes_weread_githubrumenyushijian.md\":\"rNPs4M8j\",\"read-notes_weread_gugedegushi.md\":\"DpJhDw_F\",\"read-notes_weread_haodianzidushitoulaide.md\":\"BrxA8tsD\",\"read-notes_weread_jiucaideziwoxiuyang.md\":\"D9YnP7uU\",\"read-notes_weread_kangzhujiushibenshi.md\":\"Cm7XVki5\",\"read-notes_weread_liuxiedegushi.md\":\"CmrydqBr\",\"read-notes_weread_pingjunfen.md\":\"CkP1sN-e\",\"read-notes_weread_qianduangongchenghuatixishejiyushijian.md\":\"Db_UwIFC\",\"read-notes_weread_rangshijianpeinimanmanbianfu.md\":\"0FFO3OvL\",\"read-notes_weread_renshengyouwo.md\":\"66GsPpdn\",\"read-notes_weread_saaschuangyeluxiantu.md\":\"Bf7FShxk\",\"read-notes_weread_sanshisuiyiqieganggangkaishi.md\":\"D2QoEBs6\",\"read-notes_weread_shuying.md\":\"H0LUNL72\",\"read-notes_weread_songshisanjiemei.md\":\"CPoOzOF3\",\"read-notes_weread_tushuoshijiegeju.md\":\"kZ-SmNVF\",\"read-notes_weread_uishejijingpinbixiuke.md\":\"BOkb5Qkp\",\"read-notes_weread_wangyongqingquanchuan.md\":\"B5ZB953w\",\"read-notes_weread_webceshijiongshi.md\":\"Uwf7AXsd\",\"read-notes_weread_webquanzhangongchengshideziwoxiuyang.md\":\"kIgfe54p\",\"read-notes_weread_wobuyaonisiyuyishiwuchenggeinverde17fenggaobiexin.md\":\"BmU_VjGy\",\"read-notes_weread_woshizenmogejiucaide.md\":\"DNByLIXT\",\"read-notes_weread_wozichuanyupingguoyiqifengkuang.md\":\"CI3luIdd\",\"read-notes_weread_xiaogouqianqian2.md\":\"DX9-4vet\",\"read-notes_weread_xiegeisuoyourendebianchengsiwei.md\":\"C-rc67zz\",\"read-notes_weread_xingfulema.md\":\"CrNDMLNp\",\"read-notes_weread_yingxiangshijiedezhongguozhiwu.md\":\"DWF-m1wU\",\"read-notes_weread_yiwangwuqianxiaomishizhounian.md\":\"VCXE_NkU\",\"read-notes_weread_yongjiujilu.md\":\"C-ZCufJv\",\"read-notes_weread_zhinenghualangchaozhengzaibaofadedisicigongyegeming.md\":\"B4foGKPz\",\"read-notes_weread_zhinengzhuyiweilaishangyeyushehuidexinshengtai.md\":\"D6Net515\",\"read-notes_weread_zongcaide66tiaoshangyesiwei.md\":\"BBFJm2lI\",\"read-notes_zhiqun_jianlitishengyaoyuelv.md\":\"C8dhZidb\",\"read-notes_zhiqun_jishizhunquedechuandaxuqiu.md\":\"CMIH-RTw\",\"read-notes_zhiqun_shujufenxisibuzou.md\":\"Dy4XHp6p\",\"read-notes_zhiqun_zuopinji.md\":\"n27S83_G\",\"work-notes_aigc_index.md\":\"BtcOFpKl\",\"work-notes_charles_index.md\":\"C0Do8wIH\",\"work-notes_front-end_canvas_index.md\":\"BbfDApoJ\",\"work-notes_front-end_css_knowledge-point_index.md\":\"UyDXef_-\",\"work-notes_front-end_css_shuxingzhijisuanguocheng_index.md\":\"DSwTId7m\",\"work-notes_front-end_css_special-effects_index.md\":\"5a7e3Fva\",\"work-notes_front-end_index.md\":\"DRvRLY67\",\"work-notes_front-end_js_knowledge-point_index.md\":\"CSqLZ8Qe\",\"work-notes_front-end_js_promise_index.md\":\"CAlhBjKM\",\"work-notes_front-end_js_ts_index.md\":\"B8-scWQp\",\"work-notes_front-end_js_web-api_index.md\":\"D2MofjZa\",\"work-notes_front-end_react_index.md\":\"Ck14a5dv\",\"work-notes_front-end_svg_index.md\":\"B1BLSEuv\",\"work-notes_front-end_vue_index.md\":\"D1MS6QCs\",\"work-notes_front-end_web_index.md\":\"CDrzWR4F\",\"work-notes_front-end_wx_wxshare.md\":\"DH77Tig9\",\"work-notes_index.md\":\"B2ciRUyB\",\"work-notes_log_index.md\":\"FpdVcWM9\",\"work-notes_quick-app_index.md\":\"CExmBkm-\",\"work-notes_rich-text_index.md\":\"B9C-RFks\",\"work-notes_svelte_index.md\":\"xLty8g0d\",\"work-notes_web3_index.md\":\"DBEjNW03\",\"www-notes_index.md\":\"D3nPEIUq\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"ToBetter\",\"description\":\"For better, do better\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":false,\"themeConfig\":{\"logo\":\"/img/logo-share-dark.svg\",\"logoDark\":\"/img/logo-share.svg\",\"logoText\":\"ToBetter\",\"search\":{\"provider\":\"local\"},\"nav\":[{\"text\":\"Space\",\"activeMatch\":\"^/(image-notes|www-notes|read-notes|guide|style-guide|cookbook|examples)/\",\"items\":[{\"text\":\"Read Notes\",\"link\":\"/read-notes/\"},{\"text\":\"Image Notes\",\"link\":\"/image-notes/\"},{\"text\":\"WWW Notes\",\"link\":\"/www-notes/\"},{\"text\":\"fecli\",\"link\":\"https://www.npmjs.com/package/@a0znpm/fecli\"},{\"text\":\"Work Notes\",\"link\":\"/work-notes/\"}]}],\"sidebar\":{\"/read-notes/\":[{\"text\":\"Read Notes\",\"collapsed\":false,\"items\":[{\"text\":\"Book List\",\"link\":\"/read-notes/\"},{\"text\":\"AIGC: 智能创作时代\",\"link\":\"/read-notes/weread/AIGCzhinengchuangzuoshidai\"},{\"text\":\"SaaS创业路线图：to B产品、营销、运营方法论及实战案例解读\",\"link\":\"/read-notes/weread/saaschuangyeluxiantu\"},{\"text\":\"平均分\",\"link\":\"/read-notes/weread/pingjunfen\"},{\"text\":\"永久记录\",\"link\":\"/read-notes/weread/yongjiujilu\"},{\"text\":\"人生如我\",\"link\":\"/read-notes/weread/renshengyouwo\"},{\"text\":\"富兰克林自传\",\"link\":\"/read-notes/weread/fulankelinzichuan\"},{\"text\":\"韭菜的自我修养\",\"link\":\"/read-notes/weread/jiucaideziwoxiuyang\"},{\"text\":\"大型网站性能优化实战：从前端、网络、CDN到后端、大促的全链路性能优化详解\",\"link\":\"/read-notes/weread/daxingwangzhanxingnengyouhuashizhan\"},{\"text\":\"保持饥渴：不断获取新知识，升级底层操作能力\",\"link\":\"/read-notes/weread/baochijike\"},{\"text\":\"小狗钱钱2\",\"link\":\"/read-notes/weread/xiaogouqianqian2\"},{\"text\":\"三十岁，一切刚刚开始\",\"link\":\"/read-notes/weread/sanshisuiyiqieganggangkaishi\"},{\"text\":\"德米安：彷徨少年时\",\"link\":\"/read-notes/weread/demianpanghuangshaonianshi\"},{\"text\":\"影响世界的中国植物\",\"link\":\"/read-notes/weread/yingxiangshijiedezhongguozhiwu\"},{\"text\":\"闭环思维\",\"link\":\"/read-notes/weread/bihuansiwei\"},{\"text\":\"我是怎么割韭菜的：一个骗子的悔过与自白\",\"link\":\"/read-notes/weread/woshizenmogejiucaide\"},{\"text\":\"宋氏三姐妹\",\"link\":\"/read-notes/weread/songshisanjiemei\"},{\"text\":\"好点子都是偷来的：史上最感性的60堂创新课\",\"link\":\"/read-notes/weread/haodianzidushitoulaide\"},{\"text\":\"王永庆全传\",\"link\":\"/read-notes/weread/wangyongqingquanchuan\"},{\"text\":\"Web全栈工程师的自我修养\",\"link\":\"/read-notes/weread/Webquanzhangongchengshideziwoxiuyang\"},{\"text\":\"写给所有人的编程思维\",\"link\":\"/read-notes/weread/xiegeisuoyourendebianchengsiwei\"},{\"text\":\"前端工程化：体系设计与实践\",\"link\":\"/read-notes/weread/qianduangongchenghuatixishejiyushijian\"},{\"text\":\"代码精进之路：从码农到工匠\",\"link\":\"/read-notes/weread/daimajingjinzhilucongmanongdaogongjiang\"},{\"text\":\"一往无前：小米十周年 雷军公开演讲全文\",\"link\":\"/read-notes/weread/yiwangwuqianxiaomishizhounian\"},{\"text\":\"半小时漫画中国哲学史\",\"link\":\"/read-notes/weread/banxiaoshimanhuazhongguozhexueshi\"},{\"text\":\"图说世界格局\",\"link\":\"/read-notes/weread/tushuoshijiegeju\"},{\"text\":\"富人的逻辑：如何创造财富，如何保有财富\",\"link\":\"/read-notes/weread/furendeluojiruhechuangzaocaifu\"},{\"text\":\"半小时漫画经济学系列（共4册）（独家定制版）\",\"link\":\"/read-notes/weread/banxiaoshimanhuajingjixuexilie\"},{\"text\":\"我不要你死于一事无成：给女儿的17封告别信\",\"link\":\"/read-notes/weread/wobuyaonisiyuyishiwuchenggeinverde17fenggaobiexin\"},{\"text\":\"扛住就是本事\",\"link\":\"/read-notes/weread/kangzhujiushibenshi\"},{\"text\":\"GitHub入门与实践\",\"link\":\"/read-notes/weread/githubrumenyushijian\"},{\"text\":\"断舍离\",\"link\":\"/read-notes/weread/duansheli\"},{\"text\":\"富爸爸21世纪的生意\",\"link\":\"/read-notes/weread/fubaba21shijideshengyi\"},{\"text\":\"智能主义：未来商业与社会的新生态\",\"link\":\"/read-notes/weread/zhinengzhuyiweilaishangyeyushehuidexinshengtai\"},{\"text\":\"幸福了吗？\",\"link\":\"/read-notes/weread/xingfulema\"},{\"text\":\"流血的股市\",\"link\":\"/read-notes/weread/liuxiedegushi\"},{\"text\":\"智能化浪潮：正在爆发的第四次工业革命\",\"link\":\"/read-notes/weread/zhinenghualangchaozhengzaibaofadedisicigongyegeming\"},{\"text\":\"让时间陪你慢慢变富\",\"link\":\"/read-notes/weread/rangshijianpeinimanmanbianfu\"},{\"text\":\"输赢\",\"link\":\"/read-notes/weread/shuying\"},{\"text\":\"谷歌的故事\",\"link\":\"/read-notes/weread/gugedegushi\"},{\"text\":\"沃兹传：与苹果一起疯狂\",\"link\":\"/read-notes/weread/wozichuanyupingguoyiqifengkuang\"},{\"text\":\"总裁的66条商业思维\",\"link\":\"/read-notes/weread/zongcaide66tiaoshangyesiwei\"},{\"text\":\"Web测试囧事\",\"link\":\"/read-notes/weread/Webceshijiongshi\"},{\"text\":\"UI设计精品必修课\",\"link\":\"/read-notes/weread/UIshejijingpinbixiuke\"}]},{\"text\":\"知群\",\"collapsed\":false,\"items\":[{\"text\":\"及时准确的传达需求\",\"link\":\"/read-notes/zhiqun/jishizhunquedechuandaxuqiu\"},{\"text\":\"数据分析4步走\",\"link\":\"/read-notes/zhiqun/shujufenxisibuzou\"},{\"text\":\"简历提升面试邀约率\",\"link\":\"/read-notes/zhiqun/jianlitishengyaoyuelv\"},{\"text\":\"作品集\",\"link\":\"/read-notes/zhiqun/zuopinji\"}]},{\"text\":\"链接\",\"collapsed\":false,\"items\":[{\"text\":\"Image Notes\",\"link\":\"/image-notes/\"},{\"text\":\"WWW Notes\",\"link\":\"/www-notes/\"},{\"text\":\"Work Notes\",\"link\":\"/work-notes/\"}]}],\"/image-notes/\":[{\"text\":\"知群\",\"items\":[{\"text\":\"Image List\",\"link\":\"/image-notes/\"}]},{\"text\":\"链接\",\"items\":[{\"text\":\"Read Notes\",\"link\":\"/read-notes/\"},{\"text\":\"WWW Notes\",\"link\":\"/www-notes/\"},{\"text\":\"Work Notes\",\"link\":\"/work-notes/\"}]}],\"/work-notes/\":[{\"text\":\"Work Notes\",\"items\":[{\"text\":\"AIGC\",\"link\":\"/work-notes/aigc/\"},{\"text\":\"charles\",\"link\":\"/work-notes/charles/\"},{\"text\":\"Quick App\",\"link\":\"/work-notes/quick-app/\"},{\"text\":\"rich text\",\"link\":\"/work-notes/rich-text/\"},{\"text\":\"svelte\",\"link\":\"/work-notes/svelte/\"},{\"text\":\"web3\",\"link\":\"/work-notes/web3/\"},{\"text\":\"canvas\",\"link\":\"/work-notes/front-end/canvas/\",\"items\":[{\"text\":\"canvas相关\",\"link\":\"/work-notes/front-end/canvas/\"}]},{\"text\":\"js相关\",\"link\":\"/work-notes/front-end/js/knowledge-point/\",\"items\":[{\"text\":\"js知识点\",\"link\":\"/work-notes/front-end/js/knowledge-point/\"},{\"text\":\"js web API\",\"link\":\"/work-notes/front-end/js/web-api/\"},{\"text\":\"typescript\",\"link\":\"/work-notes/front-end/js/ts/\"},{\"text\":\"promise\",\"link\":\"/work-notes/front-end/js/promise/\"}]},{\"text\":\"css相关\",\"link\":\"/work-notes/front-end/css/knowledge-point/\",\"items\":[{\"img\":\"\",\"author\":\"\",\"text\":\"css知识点\",\"link\":\"/work-notes/front-end/css/knowledge-point/\"},{\"text\":\"css特效\",\"link\":\"/work-notes/front-end/css/special-effects/\"}]},{\"text\":\"微信相关\",\"items\":[{\"text\":\"微信卡片分享\",\"link\":\"/work-notes/front-end/wx/wxshare/\"}]},{\"text\":\"web\",\"link\":\"/work-notes/front-end/web/\",\"items\":[]}]},{\"text\":\"链接\",\"items\":[{\"text\":\"Read Notes\",\"link\":\"/read-notes/\"},{\"text\":\"WWW Notes\",\"link\":\"/www-notes/\"},{\"text\":\"Image Notes\",\"link\":\"/image-notes/\"}]}],\"/www-notes/\":[{\"text\":\"WWW Notes\",\"items\":[{\"text\":\"www list\",\"link\":\"/www-notes/\"}]},{\"text\":\"链接\",\"items\":[{\"text\":\"Read Notes\",\"link\":\"/read-notes/\"},{\"text\":\"Work Notes\",\"link\":\"/work-notes/\"},{\"text\":\"Image Notes\",\"link\":\"/image-notes/\"}]}]},\"editLink\":{\"pattern\":\"https://github.com/MShineRay/MShineRay.github.io/edit/main/src/:path\",\"text\":\"Edit this page on GitHub\"},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/mshineray/\"}],\"footer\":{\"copyright\":\"Copyright © 2022-now MShineRay\"}},\"locales\":{},\"scrollOffset\":\"header\",\"cleanUrls\":false}");</script>
    
  </body>
</html>